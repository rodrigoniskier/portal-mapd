<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guia Interativo - A Resposta das Células B</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
            overflow: hidden; /* Prevenir scroll global */
        }
        .screensaver {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: -1;
            background-size: cover; background-position: center; animation: cycleImages 30s linear infinite;
        }
        @keyframes cycleImages {
            0%, 18% { background-image: url('leoas.png'); opacity: 1; } 20% { opacity: 0; }
            20.01%, 38% { background-image: url('deserto.png'); opacity: 1; } 40% { opacity: 0; }
            40.01%, 58% { background-image: url('baleia.png'); opacity: 1; } 60% { opacity: 0; }
            60.01%, 78% { background-image: url('vulcao.png'); opacity: 1; } 80% { opacity: 0; }
            80.01%, 98% { background-image: url('floresta.png'); opacity: 1; } 100% { opacity: 0; }
        }
        /* Foco do controle remoto */
        .focusable:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 211, 153, 0.7);
            transform: scale(1.05);
        }
        #trackpad-area {
            touch-action: none;
        }

        /* Animação do Flashcard */
        .flashcard-inner { transform-style: preserve-3d; transition: transform 0.6s; }
        .flashcard.flipped .flashcard-inner { transform: rotateY(180deg); }
        .flashcard-front, .flashcard-back { -webkit-backface-visibility: hidden; backface-visibility: hidden; }
        .flashcard-back { transform: rotateY(180deg); }
        
        /* Estilos do conteúdo */
        .content-prose h4 { font-size: 1.25rem; font-weight: 600; margin-bottom: 0.5rem; color: #93c5fd; }
        .content-prose p, .content-prose ul { color: #d1d5db; margin-bottom: 1rem; }
        .content-prose ul { list-style-position: inside; padding-left: 1rem; }
        .content-prose li { margin-bottom: 0.5rem; }
        .content-prose strong { color: #f9fafb; }
        .content-prose table { width: 100%; text-align: left; border-collapse: collapse; margin-bottom: 1rem; }
        .content-prose th, .content-prose td { border-bottom: 1px solid #4b5563; padding: 0.75rem; }
        .content-prose th { color: #f9fafb; font-weight: 700; }

        /* Estilos do Quiz */
        .quiz-option.selected { background-color: #3b82f6; color: white; }
        .quiz-option.correct { background-color: #22c55e !important; color: white; }
        .quiz-option.incorrect { background-color: #ef4444 !important; color: white; }
    </style>
</head>
<body class="bg-gray-900 text-white">

    <div class="screensaver"></div>

    <main class="container mx-auto px-4 py-8 min-h-screen flex flex-col items-center justify-center">

        <!-- Tela Inicial (SmartTV) -->
        <section id="home-screen" class="w-full max-w-6xl">
            <div class="flex flex-col md:flex-row gap-8">
                <div class="md:w-1/2 bg-gray-800 rounded-lg p-8 flex flex-col justify-between shadow-lg" style="background: linear-gradient(rgba(17, 24, 39, 0.7), rgba(17, 24, 39, 0.7));">
                    <div>
                        <span class="text-sm font-bold text-green-300">IMUNOLOGIA</span>
                        <h1 class="text-4xl font-bold mt-2">A Resposta das Células B</h1>
                        <p class="text-gray-300 mt-4">Explore a imunidade humoral, desde a maturação dos linfócitos B até a produção de anticorpos e a memória imunológica.</p>
                    </div>
                </div>
                <div class="md:w-1/2">
                    <div class="p-4 bg-gray-800 rounded-lg h-full">
                        <h2 class="text-xl font-semibold mb-4 px-2 text-gray-300">Ferramentas de Estudo</h2>
                        <div class="grid grid-cols-2 gap-4">
                            <button data-target="content-screen" class="focusable screen-changer group bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center space-y-2 hover:bg-blue-600 transition-all duration-300 transform hover:scale-105 text-center h-28">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-blue-400 group-hover:text-white transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg>
                                <span class="font-semibold text-sm">Conteúdo</span>
                            </button>
                            <button data-target="flashcards-screen" class="focusable screen-changer group bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center space-y-2 hover:bg-yellow-500 transition-all duration-300 transform hover:scale-105 text-center h-28">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-yellow-300 group-hover:text-white transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2H5a2 2 0 00-2 2v2m14 0h-2M5 11H3"></path></svg>
                                <span class="font-semibold text-sm">Flashcards</span>
                            </button>
                            <button data-target="quiz-screen" class="focusable screen-changer group bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center space-y-2 hover:bg-red-500 transition-all duration-300 transform hover:scale-105 text-center h-28">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-red-400 group-hover:text-white transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                <span class="font-semibold text-sm">Quiz</span>
                            </button>
                            <a href="Versão para Impressão - A Resposta das Células B.pdf" download="A Resposta das Células B.pdf" class="focusable group bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center space-y-2 hover:bg-green-600 transition-all duration-300 transform hover:scale-105 text-center h-28">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-green-400 group-hover:text-white transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                                <span class="font-semibold text-sm">Apostila PDF</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Tela de Conteúdo -->
        <section id="content-screen" class="hidden w-full max-w-7xl h-[85vh] bg-gray-800 rounded-lg shadow-2xl flex-col">
             <header class="flex items-center p-4 border-b border-gray-700 flex-shrink-0">
                <button class="back-to-home text-gray-400 hover:text-white transition-colors focusable">&larr; Voltar</button>
                <h2 class="text-xl font-bold text-center flex-grow text-green-400">Conteúdo Teórico</h2>
            </header>
            <div class="flex flex-grow overflow-hidden">
                <nav class="w-1/3 md:w-1/4 bg-gray-900/50 p-4 overflow-y-auto" id="content-menu"></nav>
                <article class="w-2/3 md:w-3/4 p-6 md:p-8 overflow-y-auto" id="content-display"></article>
            </div>
        </section>

        <!-- Tela de Flashcards -->
        <section id="flashcards-screen" class="hidden w-full max-w-2xl h-[85vh] flex-col items-center">
            <header class="w-full flex items-center mb-8">
                <button class="back-to-home text-gray-400 hover:text-white transition-colors focusable">&larr; Voltar</button>
                <h2 class="text-3xl font-bold text-center flex-grow text-yellow-400">Flashcards</h2>
            </header>
            <div id="flashcard" class="flashcard perspective-[1000px] w-full h-64 cursor-pointer">
                <div id="flashcard-inner" class="flashcard-inner relative w-full h-full text-center">
                    <div id="flashcard-front" class="flashcard-front absolute w-full h-full bg-blue-600 rounded-lg shadow-xl p-6 flex justify-center items-center"><p class="text-2xl font-semibold"></p></div>
                    <div id="flashcard-back" class="flashcard-back absolute w-full h-full bg-green-600 rounded-lg shadow-xl p-6 flex justify-center items-center"><p class="text-lg"></p></div>
                </div>
            </div>
            <div class="flex justify-between mt-6 items-center w-full">
                <button id="prev-card" class="bg-gray-700 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600 transition focusable">&lt; Anterior</button>
                <p id="card-counter" class="text-sm text-gray-400"></p>
                <button id="next-card" class="bg-gray-700 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600 transition focusable">Próximo &gt;</button>
            </div>
        </section>

        <!-- Tela de Quiz -->
        <section id="quiz-screen" class="hidden w-full max-w-4xl h-[85vh] flex-col">
            <header class="w-full flex items-center mb-8 flex-shrink-0">
                <button class="back-to-home text-gray-400 hover:text-white transition-colors focusable">&larr; Voltar</button>
                <h2 class="text-3xl font-bold text-center flex-grow text-red-400">Teste seus Conhecimentos</h2>
            </header>
            <div class="flex-grow overflow-y-auto pr-4">
                <div id="quiz-container" class="bg-gray-800 p-8 rounded-lg shadow-lg"></div>
                <div id="quiz-results" class="hidden bg-gray-800 p-8 rounded-lg shadow-lg text-center mt-8">
                    <h3 class="text-2xl font-bold mb-4">Resultado do Quiz</h3>
                    <p id="score" class="text-4xl font-bold text-green-400 mb-6"></p>
                    <button id="restart-quiz" class="bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition focusable">Tentar Novamente</button>
                </div>
            </div>
        </section>

    </main>

    <aside id="remote-control" class="fixed top-1/2 right-2 transform -translate-y-1/2 h-auto w-20 md:w-24 p-2 rounded-2xl flex flex-col items-center justify-center gap-2 z-50 bg-gray-900 bg-opacity-80 backdrop-blur-md border border-gray-700">
        <h3 class="text-xs font-semibold text-gray-400">Controle</h3>
        <button id="remote-up" tabindex="-1" class="remote-btn w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center text-xl hover:bg-green-500 transition-colors">▲</button>
        <div class="flex items-center justify-center gap-1 w-full">
            <button id="remote-left" tabindex="-1" class="remote-btn w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center text-xl hover:bg-green-500 transition-colors">◄</button>
            <div id="trackpad-area" class="w-12 h-12 bg-gray-600 rounded-full flex items-center justify-center cursor-pointer select-none"><span class="text-sm font-bold">OK</span></div>
            <button id="remote-right" tabindex="-1" class="remote-btn w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center text-xl hover:bg-green-500 transition-colors">►</button>
        </div>
        <button id="remote-down" tabindex="-1" class="remote-btn w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center text-xl hover:bg-green-500 transition-colors">▼</button>
        <button id="remote-back" tabindex="-1" class="remote-btn w-full mt-2 py-1 bg-gray-700 rounded-lg flex items-center justify-center text-xs hover:bg-red-500 transition-colors">Voltar</button>
    </aside>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- DATA ---
            const contentData = [
                { title: "1. Introdução: As Fábricas de Anticorpos", content: `<h4>🛡️ Imunidade Humoral vs Celular</h4><p>A <strong>Imunidade Humoral</strong> é mediada por anticorpos produzidos por Linfócitos B e seu alvo principal são patógenos extracelulares 🦠 e suas toxinas. Pense em bactérias no sangue ou na toxina tetânica. Já a <strong>Imunidade Celular</strong> é mediada por Linfócitos T, focando em células do nosso próprio corpo que foram infectadas ou se tornaram tumorais.</p><h4>🔬 Características Essenciais das Células B</h4><ul><li><strong>Reconhecimento Direto:</strong> Usam o Receptor de Célula B (BCR) para reconhecer antígenos em sua forma nativa (proteínas, polissacarídeos, etc).</li><li><strong>Produção de Anticorpos:</strong> Sua principal função! Diferenciam-se em plasmócitos, verdadeiras fábricas 🏭 que secretam milhares de anticorpos por segundo.</li><li><strong>Apresentadoras de Antígeno (APCs):</strong> Podem processar antígenos e apresentá-los para ativar células T auxiliares, um passo crucial para uma resposta robusta e duradoura.</li></ul>` },
                { title: "2. Maturação na Medula Óssea", content: `<h4>🦴 A "Fábrica" na Medula Óssea</h4><p>Diferente das células T (que viajam para o Timo), todo o processo de desenvolvimento e maturação dos Linfócitos B ocorre na Medula Óssea.</p><h4>✅ Os Testes de Qualidade da Medula ❌</h4><ul><li><strong>Seleção Positiva:</strong> O primeiro teste. A pergunta é: "Você consegue montar um BCR funcional?". Apenas as células que expressam um receptor pré-B funcional sobrevivem, garantindo que elas possam receber sinais.</li><li><strong>Seleção Negativa:</strong> O segundo teste. A pergunta é: "Você reage contra antígenos próprios?". Células autorreativas são perigosas e, por isso, são eliminadas (apoptose) ou têm seu receptor editado. Isso previne a autoimunidade.</li></ul><h4>🩺 Relevância Clínica: Agamaglobulinemia de Bruton</h4><p>É uma doença genética onde uma enzima (BTK) é defeituosa. Isso impede a maturação dos linfócitos B após a seleção positiva. O resultado é a ausência quase total de células B e anticorpos, levando a infecções bacterianas recorrentes e graves.</p>` },
                { title: "3. Ativação T-Independente", content: `<h4>🚀 Resposta Rápida sem Ajuda T</h4><p>É uma via de ativação rápida que não precisa da ajuda de Linfócitos T. É ideal para antígenos com múltiplos epítopos repetidos (multivalentes), como os polissacarídeos de cápsulas bacterianas (ex: pneumococo) ou LPS.</p><h4>🔗 O Gatilho: Ligação Cruzada</h4><p>O antígeno multivalente consegue ligar e "cruzar" vários BCRs na superfície da célula B ao mesmo tempo. Essa ligação massiva gera um sinal de ativação forte o suficiente para a célula B agir por conta própria.</p><h4>👍 Vantagens e Desvantagens 👎</h4><ul><li><strong>Vantagens:</strong> É uma resposta muito rápida, essencial na defesa inicial contra bactérias encapsuladas.</li><li><strong>Limitações:</strong> Produz principalmente IgM de baixa afinidade, não gera uma memória imunológica robusta e é ineficaz em crianças menores de 2 anos (o que explica a vulnerabilidade a bactérias como 𝘏𝘢𝘦𝘮𝘰𝘱𝘩𝘪𝘭𝘶𝘴 𝘪𝘯𝘧𝘭𝘶𝘦𝘯𝘻𝘢𝘦).</li></ul>`},
                { title: "4. Ativação T-Dependente", content: `<h4>🤝 Etapa 1: Captura e Apresentação</h4><p>Para antígenos proteicos, a colaboração com células T é essencial para uma resposta de alta qualidade.</p><ol><li><strong>Reconhecimento 🧐:</strong> O BCR liga-se ao antígeno proteico em sua forma nativa.</li><li><strong>Internalização 🍽️:</strong> O complexo antígeno-BCR é internalizado (endocitado). Dentro da célula, o antígeno é processado e quebrado em pequenos peptídeos.</li><li><strong>Apresentação 👨‍🏫:</strong> Os peptídeos são carregados em moléculas de MHC Classe II e apresentados na superfície. A célula B agora age como uma Célula Apresentadora de Antígeno (APC), pronta para "conversar" com uma célula T auxiliar.</li></ol>`},
                { title: "5. Interação B-Tfh", content: `<h4>💬 O Diálogo Crucial</h4><p>A célula B migra para a fronteira entre a zona B e a zona T do linfonodo para encontrar sua parceira, a Célula T Auxiliar Folicular (Tfh). A ativação completa da célula B precisa de dois sinais de confirmação da célula T:</p><ul><li><strong>Sinal 1 (Reconhecimento Específico):</strong> O TCR da célula Tfh reconhece o complexo MHC-II + peptídeo na superfície da célula B.</li><li><strong>Sinal 2 (Coestimulação):</strong> A molécula CD40 na célula B liga-se à sua contraparte, a CD40L, na célula Tfh. Essa é a "confirmação de segurança" da interação.</li></ul><p>Após essa dupla confirmação, a célula Tfh libera citocinas (como IL-21 e IL-4), que são as ordens para a célula B sobreviver, proliferar e iniciar o processo de maturação.</p>`},
                { title: "6. O Centro Germinativo", content: `<h4>🎓 A Academia de Elite</h4><p>Após a ativação, as células B e Tfh migram para o centro do folículo linfoide e formam uma estrutura dinâmica chamada Centro Germinativo (CG). É aqui que a "mágica" acontece.</p><ul><li><strong>🧬 Zona Escura:</strong> As células B (agora chamadas centroblastos) proliferam intensamente. Ocorre a <strong>Hipermutação Somática</strong>, um processo fascinante que introduz mutações aleatórias nos genes que codificam os anticorpos, criando uma diversidade de receptores com afinidades variadas.</li><li><strong>🏆 Zona Clara:</strong> As células B (centrócitos) são testadas. Elas precisam competir para capturar antígenos apresentados por Células Dendríticas Foliculares e, se conseguirem, devem apresentar esse antígeno para as células Tfh para receber um sinal de sobrevivência. Apenas as células B com os anticorpos de maior afinidade sobrevivem. É uma verdadeira seleção darwiniana em alta velocidade!</li></ul>`},
                { title: "7. Troca de Isotipo", content: `<h4>🔄 Refinando as Armas</h4><p>Além de melhorar a afinidade, as células B no centro germinativo podem alterar o tipo (isotipo ou classe) de anticorpo que produzem, para adequar a função à ameaça, sem alterar a especificidade.</p><ul><li><strong>🛡️ IgG (induzido por IFN-γ):</strong> O anticorpo mais abundante no sangue. Excelente para opsonização (marcar para fagocitose), ativação do complemento e neutralização. É o único que cruza a placenta, protegendo o feto.</li><li><strong>🤧 IgE (induzido por IL-4):</strong> Famoso pela defesa contra parasitas (helmintos) e por ser o principal mediador de reações alérgicas (ativação de mastócitos).</li><li><strong>🦠 IgA (induzido por TGF-β):</strong> O "guardião das mucosas". É secretado no trato gastrointestinal, respiratório e no leite materno, neutralizando patógenos antes que eles consigam invadir.</li></ul>`},
                { title: "8. Destinos Finais", content: `<h4>🌟 Os Graduados do Centro Germinativo</h4><p>As células B de alta afinidade que sobrevivem à rigorosa seleção no CG seguem um de dois destinos finais:</p><ul><li><strong>🏭 Plasmócitos (Fábricas de Anticorpos):</strong> São células terminalmente diferenciadas, dedicadas exclusivamente a secretar enormes quantidades de anticorpos (milhares por segundo). Plasmócitos de vida curta permanecem nos órgãos linfoides, enquanto os de vida longa migram para a medula óssea, fornecendo anticorpos por anos.</li><li><strong>🕵️ Células B de Memória (Veteranos Vigilantes):</strong> São células de longa vida que circulam pelo corpo. Elas não secretam anticorpos, mas estão prontas para uma reativação muito mais rápida e potente. Em um segundo encontro com o antígeno, elas garantem uma resposta secundária avassaladora.</li></ul>`},
                { title: "9. Mecanismos Efetores", content: `<h4>🎯 Como os Anticorpos Funcionam</h4><p>Anticorpos não matam os patógenos diretamente. Eles agem como "etiquetas" ou "sinalizadores" moleculares que acionam outros mecanismos de eliminação.</p><ul><li><strong>Neutralização 🛑:</strong> Anticorpos (principalmente IgG e IgA) se ligam a sítios críticos de toxinas ou patógenos (vírus, bactérias), impedindo que eles se liguem e entrem nas células do hospedeiro.</li><li><strong>Opsonização 🍽️:</strong> Anticorpos (principalmente IgG) revestem a superfície de um patógeno. Fagócitos (macrófagos, neutrófilos) têm receptores para a "cauda" do anticorpo (região Fc), o que aumenta drasticamente a eficiência da fagocitose.</li><li><strong>Ativação do Complemento 💥:</strong> A ligação de anticorpos (IgM e IgG) a um patógeno pode iniciar a cascata do complemento, levando à formação do Complexo de Ataque à Membrana (MAC), que perfura e lisa o patógeno.</li></ul>`},
                { title: "10. Implicações Clínicas", content: `<h4>🩺 O Desequilíbrio Humoral</h4><ul><li><strong>Imunodeficiências:</strong> A ausência de células B (Agamaglobulinemia de Bruton) ou de isotipos específicos (Deficiência Seletiva de IgA) leva a infecções bacterianas sinopulmonares (otite, sinusite, pneumonia) recorrentes.</li><li><strong>Doenças Autoimunes:</strong> Uma falha na tolerância leva à produção de anticorpos contra componentes do próprio corpo. Exemplos: <strong>Lúpus</strong> (anticorpos anti-DNA), <strong>Miastenia Gravis</strong> (anticorpos contra o receptor de acetilcolina), <strong>Artrite Reumatoide</strong> (Fator reumatoide e anti-CCP).</li><li><strong>Alergias (Hipersensibilidade Tipo I):</strong> Uma resposta inadequada a antígenos ambientais inofensivos (alérgenos), com produção de grandes quantidades de IgE que se liga a mastócitos, causando sua degranulação.</li></ul><h4>💊 Aplicações Terapêuticas</h4><p><strong>Anticorpos Monoclonais:</strong> A engenharia de anticorpos específicos revolucionou a medicina. São usados para tratar câncer (ex: Rituximab, anti-CD20), doenças autoimunes (ex: Infliximab, anti-TNF) e infecções.</p>`},
                { title: "11. Conclusão", content: `<h4>🏁 A Precisão da Resposta Humoral</h4><p>A resposta das células B é um processo multifásico e altamente regulado, que vai desde o desenvolvimento na medula óssea até a seleção rigorosa nos centros germinativos, resultando na produção de anticorpos, uma das ferramentas mais versáteis do sistema imune.</p><ul><li><strong>Quando Deficiente 📉:</strong> A incapacidade de produzir anticorpos eficazes deixa o corpo vulnerável a patógenos, especialmente bactérias extracelulares.</li><li><strong>Quando Desregulada 📈:</strong> A produção de anticorpos contra o próprio corpo (autoimunidade) ou contra substâncias inofensivas (alergias) causa doenças crônicas e debilitantes.</li></ul><p>A compreensão desses mecanismos é a base para o desenvolvimento de vacinas eficazes e terapias com anticorpos monoclonais que moldam a medicina moderna. 💡</p>`}
            ];
            const flashcardsData = [ { q: "Qual a principal célula produtora de anticorpos? 🏭", a: "Plasmócito." }, { q: "O que significa BCR? 📡", a: "Receptor de Célula B (B-Cell Receptor), que reconhece o antígeno nativo." }, { q: "Onde ocorre a maturação das Células B? 🦴", a: "Medula Óssea." }, { q: "O que é Hipermutação Somática? 🧬", a: "Mutações nos genes de anticorpos para aumentar a afinidade, ocorre no Centro Germinativo." }, { q: "O que é Troca de Isotipo? 🔄", a: "Mudança da classe do anticorpo (ex: IgM para IgG) para adequar a função." }, { q: "Qual anticorpo cruza a placenta? 🤰", a: "IgG." }, { q: "Qual anticorpo está envolvido em alergias? 🤧", a: "IgE." }, { q: "Qual anticorpo protege as mucosas? 🦠", a: "IgA." }, { q: "O que é Opsonização? 🍽️", a: "Processo de 'marcar' um patógeno com anticorpos para facilitar a fagocitose." }, { q: "Doença com falha na maturação de Células B? 🩺", a: "Agamaglobulinemia de Bruton." } ];
            const quizData = [ { question: "Qual a principal função da Imunidade Humoral?", options: ["Ativar macrófagos", "Mediar a produção de anticorpos", "Destruir células infectadas diretamente", "Regular a febre"], answer: "Mediar a produção de anticorpos", explanation: "A Imunidade Humoral é caracterizada pela produção de anticorpos por células B diferenciadas em plasmócitos." }, { question: "Onde ocorre a maturação e seleção dos Linfócitos B?", options: ["No Timo", "No Baço", "Nos Linfonodos", "Na Medula Óssea"], answer: "Na Medula Óssea", explanation: "Diferente das células T (que maturam no Timo), todo o processo de maturação das células B acontece na Medula Óssea." }, { question: "O que é testado na 'Seleção Negativa' durante a maturação dos linfócitos B?", options: ["A capacidade de montar um BCR funcional", "A reatividade contra antígenos próprios", "A velocidade de proliferação", "A capacidade de migrar"], answer: "A reatividade contra antígenos próprios", explanation: "A seleção negativa elimina ou edita células B que reconhecem componentes do próprio corpo, prevenindo a autoimunidade." }, { question: "A Agamaglobulinemia de Bruton é uma falha em qual etapa da maturação da célula B?", options: ["Após a seleção positiva", "Durante a seleção negativa", "Na fase de célula de memória", "Na produção de IgA"], answer: "Após a seleção positiva", explanation: "A mutação na enzima BTK impede que a célula pré-B prossiga sua maturação após confirmar que consegue montar um receptor funcional." }, { question: "A ativação T-Independente é tipicamente desencadeada por qual tipo de antígeno?", options: ["Proteínas pequenas", "Vírus intracelulares", "Antígenos com múltiplos epítopos repetidos (polissacarídeos)", "Células tumorais"], answer: "Antígenos com múltiplos epítopos repetidos (polissacarídeos)", explanation: "Antígenos como as cápsulas de polissacarídeos de bactérias podem ligar e cruzar múltiplos BCRs, ativando a célula B diretamente." }, { question: "Qual classe de anticorpo é predominantemente produzida na resposta T-Independente?", options: ["IgG", "IgA", "IgE", "IgM"], answer: "IgM", explanation: "A resposta T-independente é rápida mas limitada, produzindo principalmente anticorpos IgM de baixa afinidade e sem gerar memória." }, { question: "Na ativação T-Dependente, como uma célula B apresenta o antígeno para uma célula T?", options: ["Via MHC Classe I", "Via MHC Classe II", "Liberando o antígeno no meio", "Através do seu BCR"], answer: "Via MHC Classe II", explanation: "A célula B internaliza o antígeno, o processa em peptídeos e os apresenta em moléculas de MHC-II para as células T auxiliares." }, { question: "Qual é a interação coestimulatória essencial entre a célula B e a célula Tfh?", options: ["TCR - MHC", "BCR - Antígeno", "CD28 - B7", "CD40 - CD40L"], answer: "CD40 - CD40L", explanation: "A ligação do CD40 na célula B com o CD40L na célula Tfh é o 'segundo sinal' crucial para a ativação completa da célula B." }, { question: "O que é a 'Hipermutação Somática'?", options: ["Mutações que causam câncer de célula B", "A troca de classe de anticorpos", "Mutações aleatórias nos genes de anticorpos para aumentar a afinidade", "A proliferação rápida das células B"], answer: "Mutações aleatórias nos genes de anticorpos para aumentar a afinidade", explanation: "É um processo que ocorre no centro germinativo para 'refinar' a afinidade do anticorpo pelo antígeno." }, { question: "Em qual estrutura do linfonodo ocorre a Hipermutação Somática?", options: ["Na medula", "No córtex", "No Centro Germinativo", "No vaso linfático aferente"], answer: "No Centro Germinativo", explanation: "O Centro Germinativo é uma estrutura especializada formada nos folículos linfoides para a maturação da resposta de células B." }, { question: "A citocina IL-4 induz a troca para qual isotipo de anticorpo, associado a alergias?", options: ["IgG", "IgA", "IgE", "IgM"], answer: "IgE", explanation: "IL-4 é a principal citocina que direciona as células B a produzirem IgE, que é central nas reações alérgicas do tipo I." }, { question: "Qual anticorpo é conhecido como o 'guardião das mucosas'?", options: ["IgG", "IgM", "IgD", "IgA"], answer: "IgA", explanation: "O IgA é secretado em superfícies mucosas como o trato gastrointestinal e respiratório, neutralizando patógenos na entrada." }, { question: "Qual é o destino de uma célula B que se diferencia para se tornar uma 'fábrica de anticorpos'?", options: ["Célula de Memória", "Plasmócito", "Centrócito", "Célula Dendrítica"], answer: "Plasmócito", explanation: "Plasmócitos são células terminalmente diferenciadas cuja única função é secretar grandes volumes de anticorpos." }, { question: "O que caracteriza as Células B de Memória?", options: ["Secretam anticorpos constantemente", "São de curta duração", "Estão prontas para uma reativação rápida e potente", "Apresentam antígenos para células T virgens"], answer: "Estão prontas para uma reativação rápida e potente", explanation: "As células de memória garantem uma resposta secundária mais rápida e forte a um antígeno já encontrado." }, { question: "O mecanismo onde anticorpos revestem um patógeno para facilitar a fagocitose é chamado de:", options: ["Neutralização", "Ativação do Complemento", "Opsonização", "Citotoxicidade"], answer: "Opsonização", explanation: "A opsonização funciona como um 'tempero', marcando o patógeno para que fagócitos o reconheçam e o destruam mais facilmente." }, { question: "No Lúpus Eritematoso Sistêmico, são produzidos autoanticorpos contra:", options: ["Receptores de acetilcolina", "Fator intrínseco", "Componentes nucleares (ex: DNA)", "Colágeno tipo IV"], answer: "Componentes nucleares (ex: DNA)", explanation: "O Lúpus é uma doença autoimune prototípica causada por anticorpos que atacam o núcleo das próprias células." }, { question: "O Rituximab, usado para tratar linfomas de células B, é um exemplo de qual terapia?", options: ["Vacina de mRNA", "Anticorpo Monoclonal", "Terapia com fagos", "Antibiótico"], answer: "Anticorpo Monoclonal", explanation: "É um anticorpo de engenharia que tem como alvo a molécula CD20 nas células B, levando à sua destruição." } ];

            // --- Gerenciamento de Telas e Controle Remoto ---
            const screens = document.querySelectorAll('main > section');
            const screenChangers = document.querySelectorAll('.screen-changer');
            const backButtons = document.querySelectorAll('.back-to-home');
            let currentFocusableItems = [];
            let currentFocusIndex = 0;
            let activeScrollableArea = window;

            function setFocus(index) {
                if (currentFocusableItems && currentFocusableItems.length > 0) {
                    const newIndex = (index + currentFocusableItems.length) % currentFocusableItems.length;
                    currentFocusIndex = newIndex;
                    currentFocusableItems[currentFocusIndex].focus();
                }
            }

            function showScreen(screenId) {
                screens.forEach(screen => {
                    screen.classList.toggle('hidden', screen.id !== screenId);
                    screen.classList.toggle('flex', screen.id === screenId);
                });

                currentFocusableItems = Array.from(document.querySelectorAll(`#${screenId} .focusable`));
                const scrollable = document.querySelector(`#${screenId} .overflow-y-auto`);
                activeScrollableArea = scrollable || document.querySelector(`#${screenId}`);
                setFocus(0);
            }

            screenChangers.forEach(button => button.addEventListener('click', () => showScreen(button.dataset.target)));
            backButtons.forEach(button => button.addEventListener('click', () => showScreen('home-screen')));
            
            // --- Lógica da Tela de Conteúdo ---
            const contentMenu = document.getElementById('content-menu');
            const contentDisplay = document.getElementById('content-display');
            contentData.forEach((item, index) => {
                const menuItem = document.createElement('button');
                menuItem.className = 'content-menu-item w-full text-left p-3 my-1 rounded-lg hover:bg-gray-700 transition-colors duration-200 text-gray-300 focusable';
                menuItem.textContent = item.title.replace(/\d+\. /, '');
                menuItem.dataset.index = index;
                contentMenu.appendChild(menuItem);
            });
            contentMenu.addEventListener('click', (e) => {
                const target = e.target.closest('.content-menu-item');
                if (target) {
                    const index = target.dataset.index;
                    const item = contentData[index];
                    contentDisplay.innerHTML = `<h3 class="text-3xl font-bold mb-6 text-green-400">${item.title}</h3><div class="content-prose">${item.content}</div>`;
                    document.querySelectorAll('.content-menu-item').forEach(btn => btn.classList.remove('bg-green-600', 'text-white'));
                    target.classList.add('bg-green-600', 'text-white');
                    contentDisplay.scrollTop = 0;
                }
            });

            // --- Lógica dos Flashcards ---
            let currentCard = 0;
            const flashcardEl = document.getElementById('flashcard'), frontText = document.querySelector('#flashcard-front p'), backText = document.querySelector('#flashcard-back p'), prevBtn = document.getElementById('prev-card'), nextBtn = document.getElementById('next-card'), cardCounter = document.getElementById('card-counter');
            function updateCard() { frontText.innerHTML = flashcardsData[currentCard].q; backText.innerHTML = flashcardsData[currentCard].a; cardCounter.textContent = `${currentCard + 1} / ${flashcardsData.length}`; flashcardEl.classList.remove('flipped'); }
            flashcardEl.addEventListener('click', () => flashcardEl.classList.toggle('flipped'));
            prevBtn.addEventListener('click', () => { currentCard = (currentCard - 1 + flashcardsData.length) % flashcardsData.length; updateCard(); });
            nextBtn.addEventListener('click', () => { currentCard = (currentCard + 1) % flashcardsData.length; updateCard(); });
            
            // --- Lógica do Quiz ---
            const quizContainer = document.getElementById('quiz-container'), quizResults = document.getElementById('quiz-results'), scoreEl = document.getElementById('score'), restartBtn = document.getElementById('restart-quiz');
            let userAnswers = {};
            function loadQuiz() {
                quizContainer.innerHTML = ''; quizResults.classList.add('hidden'); userAnswers = {};
                quizData.forEach((item, index) => {
                    const questionEl = document.createElement('div');
                    questionEl.className = 'mb-8';
                    const shuffledOptions = [...item.options].sort(() => Math.random() - 0.5);
                    let optionsHTML = shuffledOptions.map(option => `<button class="quiz-option focusable w-full text-left p-3 my-1 border border-gray-600 rounded-lg hover:bg-gray-700 transition" data-question="${index}">${option}</button>`).join('');
                    questionEl.innerHTML = `<p class="text-lg font-semibold mb-3 text-gray-200">${index + 1}. ${item.question}</p><div class="space-y-2">${optionsHTML}</div><div id="feedback-${index}" class="mt-3 text-sm p-2 rounded-md hidden"></div>`;
                    quizContainer.appendChild(questionEl);
                });
                const submitBtn = document.createElement('button');
                submitBtn.id = 'submit-quiz'; submitBtn.textContent = 'Finalizar Quiz'; submitBtn.className = 'w-full mt-4 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition focusable';
                quizContainer.appendChild(submitBtn);
                submitBtn.addEventListener('click', showResults);
            }
            quizContainer.addEventListener('click', function(e){ if(e.target.classList.contains('quiz-option')){ const questionIndex = e.target.dataset.question; userAnswers[questionIndex] = e.target.textContent; document.querySelectorAll(`button[data-question="${questionIndex}"]`).forEach(btn => btn.classList.remove('selected')); e.target.classList.add('selected'); } });
            function showResults() {
                let score = 0;
                quizData.forEach((item, index) => {
                    const options = document.querySelectorAll(`button[data-question="${index}"]`);
                    const feedbackEl = document.getElementById(`feedback-${index}`);
                    feedbackEl.classList.remove('hidden');
                    options.forEach(option => { option.disabled = true; option.classList.remove('selected'); if (option.textContent === item.answer) option.classList.add('correct'); });
                    if (userAnswers[index]) { if (userAnswers[index] === item.answer) { score++; } else { options.forEach(option => { if (option.textContent === userAnswers[index]) option.classList.add('incorrect'); }); feedbackEl.innerHTML = `<p class="font-semibold text-red-400">Incorreto.</p><p class="text-gray-400">${item.explanation}</p>`; feedbackEl.classList.add('bg-red-900/30'); }
                    } else { feedbackEl.innerHTML = `<p class="font-semibold text-yellow-400">Não respondida.</p><p class="text-gray-400">A resposta correta é: ${item.answer}</p>`; feedbackEl.classList.add('bg-yellow-900/30'); }
                });
                scoreEl.textContent = `${score} / ${quizData.length}`; quizResults.classList.remove('hidden'); document.getElementById('submit-quiz').style.display = 'none'; quizResults.scrollIntoView({ behavior: 'smooth' });
                currentFocusableItems = Array.from(document.querySelectorAll(`#quiz-screen .focusable`));
                setFocus(currentFocusableItems.length - 1); // Foca no botão de reiniciar
            }
            restartBtn.addEventListener('click', loadQuiz);
            
            // --- Lógica do Controle Remoto ---
            const remoteUp = document.getElementById('remote-up'), remoteDown = document.getElementById('remote-down'), remoteLeft = document.getElementById('remote-left'), remoteRight = document.getElementById('remote-right'), remoteOk = document.getElementById('trackpad-area'), remoteBack = document.getElementById('remote-back');
            remoteRight.addEventListener('click', () => setFocus(currentFocusIndex + 1));
            remoteLeft.addEventListener('click', () => setFocus(currentFocusIndex - 1));
            remoteUp.addEventListener('click', () => activeScrollableArea.scrollBy({ top: -150, behavior: 'smooth' }));
            remoteDown.addEventListener('click', () => activeScrollableArea.scrollBy({ top: 150, behavior: 'smooth' }));
            
            remoteOk.addEventListener('click', () => {
                if (currentFocusableItems[currentFocusIndex]) {
                    currentFocusableItems[currentFocusIndex].click();
                }
            });
            remoteBack.addEventListener('click', () => showScreen('home-screen'));
            
            // --- Lógica de Trackpad Mobile ---
            let isTrackpadDragging = false, startY, initialScrollY;
            remoteOk.addEventListener('touchstart', e => { 
                e.stopPropagation();
                isTrackpadDragging = true; 
                startY = e.touches[0].clientY; 
                initialScrollY = activeScrollableArea.scrollTop; 
                remoteOk.style.transform = 'scale(0.9)'; 
                remoteOk.style.backgroundColor = '#4ade80'; 
            }, { passive: false });
            remoteOk.addEventListener('touchmove', e => { 
                if (!isTrackpadDragging) return; 
                e.preventDefault(); 
                const deltaY = startY - e.touches[0].clientY; 
                activeScrollableArea.scrollTop = initialScrollY + deltaY; 
            }, { passive: false });
            const touchEndHandler = () => { 
                if (isTrackpadDragging) {
                    setTimeout(() => { isTrackpadDragging = false; }, 100);
                }
                remoteOk.style.transform = 'scale(1)'; 
                remoteOk.style.backgroundColor = '#4B5563'; 
            };
            remoteOk.addEventListener('touchend', touchEndHandler);
            remoteOk.addEventListener('touchcancel', touchEndHandler);

            // Inicialização
            showScreen('home-screen');
            if (contentData.length > 0) { document.querySelector('.content-menu-item').click(); }
            updateCard();
            loadQuiz();
        });
    </script>
</body>
</html>

