<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guia Interativo - A Resposta das C√©lulas B</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
            overflow: hidden; /* Prevenir scroll global */
        }
        .screensaver {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: -1;
            background-size: cover; background-position: center; animation: cycleImages 30s linear infinite;
        }
        @keyframes cycleImages {
            0%, 18% { background-image: url('leoas.png'); opacity: 1; } 20% { opacity: 0; }
            20.01%, 38% { background-image: url('deserto.png'); opacity: 1; } 40% { opacity: 0; }
            40.01%, 58% { background-image: url('baleia.png'); opacity: 1; } 60% { opacity: 0; }
            60.01%, 78% { background-image: url('vulcao.png'); opacity: 1; } 80% { opacity: 0; }
            80.01%, 98% { background-image: url('floresta.png'); opacity: 1; } 100% { opacity: 0; }
        }
        /* Foco do controle remoto */
        .focusable:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 211, 153, 0.7);
            transform: scale(1.05);
        }
        #trackpad-area {
            touch-action: none;
        }

        /* Anima√ß√£o do Flashcard */
        .flashcard-inner { transform-style: preserve-3d; transition: transform 0.6s; }
        .flashcard.flipped .flashcard-inner { transform: rotateY(180deg); }
        .flashcard-front, .flashcard-back { -webkit-backface-visibility: hidden; backface-visibility: hidden; }
        .flashcard-back { transform: rotateY(180deg); }
        
        /* Estilos do conte√∫do */
        .content-prose h4 { font-size: 1.25rem; font-weight: 600; margin-bottom: 0.5rem; color: #93c5fd; }
        .content-prose p, .content-prose ul { color: #d1d5db; margin-bottom: 1rem; }
        .content-prose ul { list-style-position: inside; padding-left: 1rem; }
        .content-prose li { margin-bottom: 0.5rem; }
        .content-prose strong { color: #f9fafb; }
        .content-prose table { width: 100%; text-align: left; border-collapse: collapse; margin-bottom: 1rem; }
        .content-prose th, .content-prose td { border-bottom: 1px solid #4b5563; padding: 0.75rem; }
        .content-prose th { color: #f9fafb; font-weight: 700; }

        /* Estilos do Quiz */
        .quiz-option.selected { background-color: #3b82f6; color: white; }
        .quiz-option.correct { background-color: #22c55e !important; color: white; }
        .quiz-option.incorrect { background-color: #ef4444 !important; color: white; }
    </style>
</head>
<body class="bg-gray-900 text-white">

    <div class="screensaver"></div>

    <main class="container mx-auto px-4 py-8 min-h-screen flex flex-col items-center justify-center">

        <!-- Tela Inicial (SmartTV) -->
        <section id="home-screen" class="w-full max-w-6xl">
            <div class="flex flex-col md:flex-row gap-8">
                <div class="md:w-1/2 bg-gray-800 rounded-lg p-8 flex flex-col justify-between shadow-lg" style="background: linear-gradient(rgba(17, 24, 39, 0.7), rgba(17, 24, 39, 0.7));">
                    <div>
                        <span class="text-sm font-bold text-green-300">IMUNOLOGIA</span>
                        <h1 class="text-4xl font-bold mt-2">A Resposta das C√©lulas B</h1>
                        <p class="text-gray-300 mt-4">Explore a imunidade humoral, desde a matura√ß√£o dos linf√≥citos B at√© a produ√ß√£o de anticorpos e a mem√≥ria imunol√≥gica.</p>
                    </div>
                </div>
                <div class="md:w-1/2">
                    <div class="p-4 bg-gray-800 rounded-lg h-full">
                        <h2 class="text-xl font-semibold mb-4 px-2 text-gray-300">Ferramentas de Estudo</h2>
                        <div class="grid grid-cols-2 gap-4">
                            <button data-target="content-screen" class="focusable screen-changer group bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center space-y-2 hover:bg-blue-600 transition-all duration-300 transform hover:scale-105 text-center h-28">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-blue-400 group-hover:text-white transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg>
                                <span class="font-semibold text-sm">Conte√∫do</span>
                            </button>
                            <button data-target="flashcards-screen" class="focusable screen-changer group bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center space-y-2 hover:bg-yellow-500 transition-all duration-300 transform hover:scale-105 text-center h-28">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-yellow-300 group-hover:text-white transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2H5a2 2 0 00-2 2v2m14 0h-2M5 11H3"></path></svg>
                                <span class="font-semibold text-sm">Flashcards</span>
                            </button>
                            <button data-target="quiz-screen" class="focusable screen-changer group bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center space-y-2 hover:bg-red-500 transition-all duration-300 transform hover:scale-105 text-center h-28">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-red-400 group-hover:text-white transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                <span class="font-semibold text-sm">Quiz</span>
                            </button>
                            <button id="print-button" class="focusable group bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center space-y-2 hover:bg-green-600 transition-all duration-300 transform hover:scale-105 text-center h-28">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-green-400 group-hover:text-white transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"></path></svg>
                                <span class="font-semibold text-sm">Gerar Apostila</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Tela de Conte√∫do -->
        <section id="content-screen" class="hidden w-full max-w-7xl h-[85vh] bg-gray-800 rounded-lg shadow-2xl flex-col">
             <header class="flex items-center p-4 border-b border-gray-700 flex-shrink-0">
                <button class="back-to-home text-gray-400 hover:text-white transition-colors focusable">&larr; Voltar</button>
                <h2 class="text-xl font-bold text-center flex-grow text-green-400">Conte√∫do Te√≥rico</h2>
            </header>
            <div class="flex flex-grow overflow-hidden">
                <nav class="w-1/3 md:w-1/4 bg-gray-900/50 p-4 overflow-y-auto" id="content-menu"></nav>
                <article class="w-2/3 md:w-3/4 p-6 md:p-8 overflow-y-auto" id="content-display"></article>
            </div>
        </section>

        <!-- Tela de Flashcards -->
        <section id="flashcards-screen" class="hidden w-full max-w-2xl h-[85vh] flex-col items-center">
            <header class="w-full flex items-center mb-8">
                <button class="back-to-home text-gray-400 hover:text-white transition-colors focusable">&larr; Voltar</button>
                <h2 class="text-3xl font-bold text-center flex-grow text-yellow-400">Flashcards</h2>
            </header>
            <div id="flashcard" class="flashcard perspective-[1000px] w-full h-64 cursor-pointer">
                <div id="flashcard-inner" class="flashcard-inner relative w-full h-full text-center">
                    <div id="flashcard-front" class="flashcard-front absolute w-full h-full bg-blue-600 rounded-lg shadow-xl p-6 flex justify-center items-center"><p class="text-2xl font-semibold"></p></div>
                    <div id="flashcard-back" class="flashcard-back absolute w-full h-full bg-green-600 rounded-lg shadow-xl p-6 flex justify-center items-center"><p class="text-lg"></p></div>
                </div>
            </div>
            <div class="flex justify-between mt-6 items-center w-full">
                <button id="prev-card" class="bg-gray-700 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600 transition focusable">&lt; Anterior</button>
                <p id="card-counter" class="text-sm text-gray-400"></p>
                <button id="next-card" class="bg-gray-700 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600 transition focusable">Pr√≥ximo &gt;</button>
            </div>
        </section>

        <!-- Tela de Quiz -->
        <section id="quiz-screen" class="hidden w-full max-w-4xl h-[85vh] flex-col">
            <header class="w-full flex items-center mb-8 flex-shrink-0">
                <button class="back-to-home text-gray-400 hover:text-white transition-colors focusable">&larr; Voltar</button>
                <h2 class="text-3xl font-bold text-center flex-grow text-red-400">Teste seus Conhecimentos</h2>
            </header>
            <div class="flex-grow overflow-y-auto pr-4">
                <div id="quiz-container" class="bg-gray-800 p-8 rounded-lg shadow-lg"></div>
                <div id="quiz-results" class="hidden bg-gray-800 p-8 rounded-lg shadow-lg text-center mt-8">
                    <h3 class="text-2xl font-bold mb-4">Resultado do Quiz</h3>
                    <p id="score" class="text-4xl font-bold text-green-400 mb-6"></p>
                    <button id="restart-quiz" class="bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition focusable">Tentar Novamente</button>
                </div>
            </div>
        </section>

    </main>

    <aside id="remote-control" class="fixed top-1/2 right-2 transform -translate-y-1/2 h-auto w-20 md:w-24 p-2 rounded-2xl flex flex-col items-center justify-center gap-2 z-50 bg-gray-900 bg-opacity-80 backdrop-blur-md border border-gray-700">
        <h3 class="text-xs font-semibold text-gray-400">Controle</h3>
        <button id="remote-up" tabindex="-1" class="remote-btn w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center text-xl hover:bg-green-500 transition-colors">‚ñ≤</button>
        <div class="flex items-center justify-center gap-1 w-full">
            <button id="remote-left" tabindex="-1" class="remote-btn w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center text-xl hover:bg-green-500 transition-colors">‚óÑ</button>
            <div id="trackpad-area" class="w-12 h-12 bg-gray-600 rounded-full flex items-center justify-center cursor-pointer select-none"><span class="text-sm font-bold">OK</span></div>
            <button id="remote-right" tabindex="-1" class="remote-btn w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center text-xl hover:bg-green-500 transition-colors">‚ñ∫</button>
        </div>
        <button id="remote-down" tabindex="-1" class="remote-btn w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center text-xl hover:bg-green-500 transition-colors">‚ñº</button>
        <button id="remote-back" tabindex="-1" class="remote-btn w-full mt-2 py-1 bg-gray-700 rounded-lg flex items-center justify-center text-xs hover:bg-red-500 transition-colors">Voltar</button>
    </aside>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- DATA ---
            const contentData = [
                { title: "1. Introdu√ß√£o: As F√°bricas de Anticorpos", content: `<h4>üõ°Ô∏è Imunidade Humoral vs Celular</h4><p>A <strong>Imunidade Humoral</strong> √© mediada por anticorpos produzidos por Linf√≥citos B e seu alvo principal s√£o pat√≥genos extracelulares ü¶† e suas toxinas. Pense em bact√©rias no sangue ou na toxina tet√¢nica. J√° a <strong>Imunidade Celular</strong> √© mediada por Linf√≥citos T, focando em c√©lulas do nosso pr√≥prio corpo que foram infectadas ou se tornaram tumorais.</p><h4>üî¨ Caracter√≠sticas Essenciais das C√©lulas B</h4><ul><li><strong>Reconhecimento Direto:</strong> Usam o Receptor de C√©lula B (BCR) para reconhecer ant√≠genos em sua forma nativa (prote√≠nas, polissacar√≠deos, etc).</li><li><strong>Produ√ß√£o de Anticorpos:</strong> Sua principal fun√ß√£o! Diferenciam-se em plasm√≥citos, verdadeiras f√°bricas üè≠ que secretam milhares de anticorpos por segundo.</li><li><strong>Apresentadoras de Ant√≠geno (APCs):</strong> Podem processar ant√≠genos e apresent√°-los para ativar c√©lulas T auxiliares, um passo crucial para uma resposta robusta e duradoura.</li></ul>` },
                { title: "2. Matura√ß√£o na Medula √ìssea", content: `<h4>ü¶¥ A "F√°brica" na Medula √ìssea</h4><p>Diferente das c√©lulas T (que viajam para o Timo), todo o processo de desenvolvimento e matura√ß√£o dos Linf√≥citos B ocorre na Medula √ìssea.</p><h4>‚úÖ Os Testes de Qualidade da Medula ‚ùå</h4><ul><li><strong>Sele√ß√£o Positiva:</strong> O primeiro teste. A pergunta √©: "Voc√™ consegue montar um BCR funcional?". Apenas as c√©lulas que expressam um receptor pr√©-B funcional sobrevivem, garantindo que elas possam receber sinais.</li><li><strong>Sele√ß√£o Negativa:</strong> O segundo teste. A pergunta √©: "Voc√™ reage contra ant√≠genos pr√≥prios?". C√©lulas autorreativas s√£o perigosas e, por isso, s√£o eliminadas (apoptose) ou t√™m seu receptor editado. Isso previne a autoimunidade.</li></ul><h4>ü©∫ Relev√¢ncia Cl√≠nica: Agamaglobulinemia de Bruton</h4><p>√â uma doen√ßa gen√©tica onde uma enzima (BTK) √© defeituosa. Isso impede a matura√ß√£o dos linf√≥citos B ap√≥s a sele√ß√£o positiva. O resultado √© a aus√™ncia quase total de c√©lulas B e anticorpos, levando a infec√ß√µes bacterianas recorrentes e graves.</p>` },
                { title: "3. Ativa√ß√£o T-Independente", content: `<h4>üöÄ Resposta R√°pida sem Ajuda T</h4><p>√â uma via de ativa√ß√£o r√°pida que n√£o precisa da ajuda de Linf√≥citos T. √â ideal para ant√≠genos com m√∫ltiplos ep√≠topos repetidos (multivalentes), como os polissacar√≠deos de c√°psulas bacterianas (ex: pneumococo) ou LPS.</p><h4>üîó O Gatilho: Liga√ß√£o Cruzada</h4><p>O ant√≠geno multivalente consegue ligar e "cruzar" v√°rios BCRs na superf√≠cie da c√©lula B ao mesmo tempo. Essa liga√ß√£o massiva gera um sinal de ativa√ß√£o forte o suficiente para a c√©lula B agir por conta pr√≥pria.</p><h4>üëç Vantagens e Desvantagens üëé</h4><ul><li><strong>Vantagens:</strong> √â uma resposta muito r√°pida, essencial na defesa inicial contra bact√©rias encapsuladas.</li><li><strong>Limita√ß√µes:</strong> Produz principalmente IgM de baixa afinidade, n√£o gera uma mem√≥ria imunol√≥gica robusta e √© ineficaz em crian√ßas menores de 2 anos (o que explica a vulnerabilidade a bact√©rias como ùòèùò¢ùò¶ùòÆùò∞ùò±ùò©ùò™ùò≠ùò∂ùò¥ ùò™ùòØùòßùò≠ùò∂ùò¶ùòØùòªùò¢ùò¶).</li></ul>`},
                { title: "4. Ativa√ß√£o T-Dependente", content: `<h4>ü§ù Etapa 1: Captura e Apresenta√ß√£o</h4><p>Para ant√≠genos proteicos, a colabora√ß√£o com c√©lulas T √© essencial para uma resposta de alta qualidade.</p><ol><li><strong>Reconhecimento üßê:</strong> O BCR liga-se ao ant√≠geno proteico em sua forma nativa.</li><li><strong>Internaliza√ß√£o üçΩÔ∏è:</strong> O complexo ant√≠geno-BCR √© internalizado (endocitado). Dentro da c√©lula, o ant√≠geno √© processado e quebrado em pequenos pept√≠deos.</li><li><strong>Apresenta√ß√£o üë®‚Äçüè´:</strong> Os pept√≠deos s√£o carregados em mol√©culas de MHC Classe II e apresentados na superf√≠cie. A c√©lula B agora age como uma C√©lula Apresentadora de Ant√≠geno (APC), pronta para "conversar" com uma c√©lula T auxiliar.</li></ol>`},
                { title: "5. Intera√ß√£o B-Tfh", content: `<h4>üí¨ O Di√°logo Crucial</h4><p>A c√©lula B migra para a fronteira entre a zona B e a zona T do linfonodo para encontrar sua parceira, a C√©lula T Auxiliar Folicular (Tfh). A ativa√ß√£o completa da c√©lula B precisa de dois sinais de confirma√ß√£o da c√©lula T:</p><ul><li><strong>Sinal 1 (Reconhecimento Espec√≠fico):</strong> O TCR da c√©lula Tfh reconhece o complexo MHC-II + pept√≠deo na superf√≠cie da c√©lula B.</li><li><strong>Sinal 2 (Coestimula√ß√£o):</strong> A mol√©cula CD40 na c√©lula B liga-se √† sua contraparte, a CD40L, na c√©lula Tfh. Essa √© a "confirma√ß√£o de seguran√ßa" da intera√ß√£o.</li></ul><p>Ap√≥s essa dupla confirma√ß√£o, a c√©lula Tfh libera citocinas (como IL-21 e IL-4), que s√£o as ordens para a c√©lula B sobreviver, proliferar e iniciar o processo de matura√ß√£o.</p>`},
                { title: "6. O Centro Germinativo", content: `<h4>üéì A Academia de Elite</h4><p>Ap√≥s a ativa√ß√£o, as c√©lulas B e Tfh migram para o centro do fol√≠culo linfoide e formam uma estrutura din√¢mica chamada Centro Germinativo (CG). √â aqui que a "m√°gica" acontece.</p><ul><li><strong>üß¨ Zona Escura:</strong> As c√©lulas B (agora chamadas centroblastos) proliferam intensamente. Ocorre a <strong>Hipermuta√ß√£o Som√°tica</strong>, um processo fascinante que introduz muta√ß√µes aleat√≥rias nos genes que codificam os anticorpos, criando uma diversidade de receptores com afinidades variadas.</li><li><strong>üèÜ Zona Clara:</strong> As c√©lulas B (centr√≥citos) s√£o testadas. Elas precisam competir para capturar ant√≠genos apresentados por C√©lulas Dendriticas Foliculares e, se conseguirem, devem apresentar esse ant√≠geno para as c√©lulas Tfh para receber um sinal de sobreviv√™ncia. Apenas as c√©lulas B com os anticorpos de maior afinidade sobrevivem. √â uma verdadeira sele√ß√£o darwiniana em alta velocidade!</li></ul>`},
                { title: "7. Troca de Isotipo", content: `<h4>üîÑ Refinando as Armas</h4><p>Al√©m de melhorar a afinidade, as c√©lulas B no centro germinativo podem alterar o tipo (isotipo ou classe) de anticorpo que produzem, para adequar a fun√ß√£o √† amea√ßa, sem alterar a especificidade.</p><ul><li><strong>üõ°Ô∏è IgG (induzido por IFN-Œ≥):</strong> O anticorpo mais abundante no sangue. Excelente para opsoniza√ß√£o (marcar para fagocitose), ativa√ß√£o do complemento e neutraliza√ß√£o. √â o √∫nico que cruza a placenta, protegendo o feto.</li><li><strong>ü§ß IgE (induzido por IL-4):</strong> Famoso pela defesa contra parasitas (helmintos) e por ser o principal mediador de rea√ß√µes al√©rgicas (ativa√ß√£o de mast√≥citos).</li><li><strong>ü¶† IgA (induzido por TGF-Œ≤):</strong> O "guardi√£o das mucosas". √â secretado no trato gastrointestinal, respirat√≥rio e no leite materno, neutralizando pat√≥genos antes que eles consigam invadir.</li></ul>`},
                { title: "8. Destinos Finais", content: `<h4>üåü Os Graduados do Centro Germinativo</h4><p>As c√©lulas B de alta afinidade que sobrevivem √† rigorosa sele√ß√£o no CG seguem um de dois destinos finais:</p><ul><li><strong>üè≠ Plasm√≥citos (F√°bricas de Anticorpos):</strong> S√£o c√©lulas terminalmente diferenciadas, dedicadas exclusivamente a secretar enormes quantidades de anticorpos (milhares por segundo). Plasm√≥citos de vida curta permanecem nos √≥rg√£os linfoides, enquanto os de vida longa migram para a medula √≥ssea, fornecendo anticorpos por anos.</li><li><strong>üïµÔ∏è C√©lulas B de Mem√≥ria (Veteranos Vigilantes):</strong> S√£o c√©lulas de longa vida que circulam pelo corpo. Elas n√£o secretam anticorpos, mas est√£o prontas para uma reativa√ß√£o muito mais r√°pida e potente. Em um segundo encontro com o ant√≠geno, elas garantem uma resposta secund√°ria avassaladora.</li></ul>`},
                { title: "9. Mecanismos Efetores", content: `<h4>üéØ Como os Anticorpos Funcionam</h4><p>Anticorpos n√£o matam os pat√≥genos diretamente. Eles agem como "etiquetas" ou "sinalizadores" moleculares que acionam outros mecanismos de elimina√ß√£o.</p><ul><li><strong>Neutraliza√ß√£o üõë:</strong> Anticorpos (principalmente IgG e IgA) se ligam a s√≠tios cr√≠ticos de toxinas ou pat√≥genos (v√≠rus, bact√©rias), impedindo que eles se liguem e entrem nas c√©lulas do hospedeiro.</li><li><strong>Opsoniza√ß√£o üçΩÔ∏è:</strong> Anticorpos (principalmente IgG) revestem a superf√≠cie de um pat√≥geno. Fag√≥citos (macr√≥fagos, neutr√≥filos) t√™m receptores para a "cauda" do anticorpo (regi√£o Fc), o que aumenta drasticamente a efici√™ncia da fagocitose.</li><li><strong>Ativa√ß√£o do Complemento üí•:</strong> A liga√ß√£o de anticorpos (IgM e IgG) a um pat√≥geno pode iniciar a cascata do complemento, levando √† forma√ß√£o do Complexo de Ataque √† Membrana (MAC), que perfura e lisa o pat√≥geno.</li></ul>`},
                { title: "10. Implica√ß√µes Cl√≠nicas", content: `<h4>ü©∫ O Desequil√≠brio Humoral</h4><ul><li><strong>Imunodefici√™ncias:</strong> A aus√™ncia de c√©lulas B (Agamaglobulinemia de Bruton) ou de isotipos espec√≠ficos (Defici√™ncia Seletiva de IgA) leva a infec√ß√µes bacterianas sinopulmonares (otite, sinusite, pneumonia) recorrentes.</li><li><strong>Doen√ßas Autoimunes:</strong> Uma falha na toler√¢ncia leva √† produ√ß√£o de anticorpos contra componentes do pr√≥prio corpo. Exemplos: <strong>L√∫pus</strong> (anticorpos anti-DNA), <strong>Miastenia Gravis</strong> (anticorpos contra o receptor de acetilcolina), <strong>Artrite Reumatoide</strong> (Fator reumatoide e anti-CCP).</li><li><strong>Alergias (Hipersensibilidade Tipo I):</strong> Uma resposta inadequada a ant√≠genos ambientais inofensivos (al√©rgenos), com produ√ß√£o de grandes quantidades de IgE que se liga a mast√≥citos, causando sua degranula√ß√£o.</li></ul><h4>üíä Aplica√ß√µes Terap√™uticas</h4><p><strong>Anticorpos Monoclonais:</strong> A engenharia de anticorpos espec√≠ficos revolucionou a medicina. S√£o usados para tratar c√¢ncer (ex: Rituximab, anti-CD20), doen√ßas autoimunes (ex: Infliximab, anti-TNF) e infec√ß√µes.</p>`},
                { title: "11. Conclus√£o", content: `<h4>üèÅ A Precis√£o da Resposta Humoral</h4><p>A resposta das c√©lulas B √© um processo multif√°sico e altamente regulado, que vai desde o desenvolvimento na medula √≥ssea at√© a sele√ß√£o rigorosa nos centros germinativos, resultando na produ√ß√£o de anticorpos, uma das ferramentas mais vers√°teis do sistema imune.</p><ul><li><strong>Quando Deficiente üìâ:</strong> A incapacidade de produzir anticorpos eficazes deixa o corpo vulner√°vel a pat√≥genos, especialmente bact√©rias extracelulares.</li><li><strong>Quando Desregulada üìà:</strong> A produ√ß√£o de anticorpos contra o pr√≥prio corpo (autoimunidade) ou contra subst√¢ncias inofensivas (alergias) causa doen√ßas cr√¥nicas e debilitantes.</li></ul><p>A compreens√£o desses mecanismos √© a base para o desenvolvimento de vacinas eficazes e terapias com anticorpos monoclonais que moldam a medicina moderna. üí°</p>`}
            ];
            const flashcardsData = [ { q: "Qual a principal c√©lula produtora de anticorpos? üè≠", a: "Plasm√≥cito." }, { q: "O que significa BCR? üì°", a: "Receptor de C√©lula B (B-Cell Receptor), que reconhece o ant√≠geno nativo." }, { q: "Onde ocorre a matura√ß√£o das C√©lulas B? ü¶¥", a: "Medula √ìssea." }, { q: "O que √© Hipermuta√ß√£o Som√°tica? üß¨", a: "Muta√ß√µes nos genes de anticorpos para aumentar a afinidade, ocorre no Centro Germinativo." }, { q: "O que √© Troca de Isotipo? üîÑ", a: "Mudan√ßa da classe do anticorpo (ex: IgM para IgG) para adequar a fun√ß√£o." }, { q: "Qual anticorpo cruza a placenta? ü§∞", a: "IgG." }, { q: "Qual anticorpo est√° envolvido em alergias? ü§ß", a: "IgE." }, { q: "Qual anticorpo protege as mucosas? ü¶†", a: "IgA." }, { q: "O que √© Opsoniza√ß√£o? üçΩÔ∏è", a: "Processo de 'marcar' um pat√≥geno com anticorpos para facilitar a fagocitose." }, { q: "Doen√ßa com falha na matura√ß√£o de C√©lulas B? ü©∫", a: "Agamaglobulinemia de Bruton." } ];
            const quizData = [ { question: "Qual a principal fun√ß√£o da Imunidade Humoral?", options: ["Ativar macr√≥fagos", "Mediar a produ√ß√£o de anticorpos", "Destruir c√©lulas infectadas diretamente", "Regular a febre"], answer: "Mediar a produ√ß√£o de anticorpos", explanation: "A Imunidade Humoral √© caracterizada pela produ√ß√£o de anticorpos por c√©lulas B diferenciadas em plasm√≥citos." }, { question: "Onde ocorre a matura√ß√£o e sele√ß√£o dos Linf√≥citos B?", options: ["No Timo", "No Ba√ßo", "Nos Linfonodos", "Na Medula √ìssea"], answer: "Na Medula √ìssea", explanation: "Diferente das c√©lulas T (que maturam no Timo), todo o processo de matura√ß√£o das c√©lulas B acontece na Medula √ìssea." }, { question: "O que √© testado na 'Sele√ß√£o Negativa' durante a matura√ß√£o dos linf√≥citos B?", options: ["A capacidade de montar um BCR funcional", "A reatividade contra ant√≠genos pr√≥prios", "A velocidade de prolifera√ß√£o", "A capacidade de migrar"], answer: "A reatividade contra ant√≠genos pr√≥prios", explanation: "A sele√ß√£o negativa elimina ou edita c√©lulas B que reconhecem componentes do pr√≥prio corpo, prevenindo a autoimunidade." }, { question: "A Agamaglobulinemia de Bruton √© uma falha em qual etapa da matura√ß√£o da c√©lula B?", options: ["Ap√≥s a sele√ß√£o positiva", "Durante a sele√ß√£o negativa", "Na fase de c√©lula de mem√≥ria", "Na produ√ß√£o de IgA"], answer: "Ap√≥s a sele√ß√£o positiva", explanation: "A muta√ß√£o na enzima BTK impede que a c√©lula pr√©-B prossiga sua matura√ß√£o ap√≥s confirmar que consegue montar um receptor funcional." }, { question: "A ativa√ß√£o T-Independente √© tipicamente desencadeada por qual tipo de ant√≠geno?", options: ["Prote√≠nas pequenas", "V√≠rus intracelulares", "Ant√≠genos com m√∫ltiplos ep√≠topos repetidos (polissacar√≠deos)", "C√©lulas tumorais"], answer: "Ant√≠genos com m√∫ltiplos ep√≠topos repetidos (polissacar√≠deos)", explanation: "Ant√≠genos como as c√°psulas de polissacar√≠deos de bact√©rias podem ligar e cruzar m√∫ltiplos BCRs, ativando a c√©lula B diretamente." }, { question: "Qual classe de anticorpo √© predominantemente produzida na resposta T-Independente?", options: ["IgG", "IgA", "IgE", "IgM"], answer: "IgM", explanation: "A resposta T-independente √© r√°pida mas limitada, produzindo principalmente anticorpos IgM de baixa afinidade e sem gerar mem√≥ria." }, { question: "Na ativa√ß√£o T-Dependente, como uma c√©lula B apresenta o ant√≠geno para uma c√©lula T?", options: ["Via MHC Classe I", "Via MHC Classe II", "Liberando o ant√≠geno no meio", "Atrav√©s do seu BCR"], answer: "Via MHC Classe II", explanation: "A c√©lula B internaliza o ant√≠geno, o processa em pept√≠deos e os apresenta em mol√©culas de MHC-II para as c√©lulas T auxiliares." }, { question: "Qual √© a intera√ß√£o coestimulat√≥ria essencial entre a c√©lula B e a c√©lula Tfh?", options: ["TCR - MHC", "BCR - Ant√≠geno", "CD28 - B7", "CD40 - CD40L"], answer: "CD40 - CD40L", explanation: "A liga√ß√£o do CD40 na c√©lula B com o CD40L na c√©lula Tfh √© o 'segundo sinal' crucial para a ativa√ß√£o completa da c√©lula B." }, { question: "O que √© a 'Hipermuta√ß√£o Som√°tica'?", options: ["Muta√ß√µes que causam c√¢ncer de c√©lula B", "A troca de classe de anticorpos", "Muta√ß√µes aleat√≥rias nos genes de anticorpos para aumentar a afinidade", "A prolifera√ß√£o r√°pida das c√©lulas B"], answer: "Muta√ß√µes aleat√≥rias nos genes de anticorpos para aumentar a afinidade", explanation: "√â um processo que ocorre no centro germinativo para 'refinar' a afinidade do anticorpo pelo ant√≠geno." }, { question: "Em qual estrutura do linfonodo ocorre a Hipermuta√ß√£o Som√°tica?", options: ["Na medula", "No c√≥rtex", "No Centro Germinativo", "No vaso linf√°tico aferente"], answer: "No Centro Germinativo", explanation: "O Centro Germinativo √© uma estrutura especializada formada nos fol√≠culos linfoides para a matura√ß√£o da resposta de c√©lulas B." }, { question: "A citocina IL-4 induz a troca para qual isotipo de anticorpo, associado a alergias?", options: ["IgG", "IgA", "IgE", "IgM"], answer: "IgE", explanation: "IL-4 √© a principal citocina que direciona as c√©lulas B a produzirem IgE, que √© central nas rea√ß√µes al√©rgicas do tipo I." }, { question: "Qual anticorpo √© conhecido como o 'guardi√£o das mucosas'?", options: ["IgG", "IgM", "IgD", "IgA"], answer: "IgA", explanation: "O IgA √© secretado em superf√≠cies mucosas como o trato gastrointestinal e respirat√≥rio, neutralizando pat√≥genos na entrada." }, { question: "Qual √© o destino de uma c√©lula B que se diferencia para se tornar uma 'f√°brica de anticorpos'?", options: ["C√©lula de Mem√≥ria", "Plasm√≥cito", "Centr√≥cito", "C√©lula Dendritica"], answer: "Plasm√≥cito", explanation: "Plasm√≥citos s√£o c√©lulas terminalmente diferenciadas cuja √∫nica fun√ß√£o √© secretar grandes volumes de anticorpos." }, { question: "O que caracteriza as C√©lulas B de Mem√≥ria?", options: ["Secretam anticorpos constantemente", "S√£o de curta dura√ß√£o", "Est√£o prontas para uma reativa√ß√£o r√°pida e potente", "Apresentam ant√≠genos para c√©lulas T virgens"], answer: "Est√£o prontas para uma reativa√ß√£o r√°pida e potente", explanation: "As c√©lulas de mem√≥ria garantem uma resposta secund√°ria mais r√°pida e forte a um ant√≠geno j√° encontrado." }, { question: "O mecanismo onde anticorpos revestem um pat√≥geno para facilitar a fagocitose √© chamado de:", options: ["Neutraliza√ß√£o", "Ativa√ß√£o do Complemento", "Opsoniza√ß√£o", "Citotoxicidade"], answer: "Opsoniza√ß√£o", explanation: "A opsoniza√ß√£o funciona como um 'tempero', marcando o pat√≥geno para que fag√≥citos o reconhe√ßam e o destruam mais facilmente." }, { question: "No L√∫pus Eritematoso Sist√™mico, s√£o produzidos autoanticorpos contra:", options: ["Receptores de acetilcolina", "Fator intr√≠nseco", "Componentes nucleares (ex: DNA)", "Col√°geno tipo IV"], answer: "Componentes nucleares (ex: DNA)", explanation: "O L√∫pus √© uma doen√ßa autoimune protot√≠pica causada por anticorpos que atacam o n√∫cleo das pr√≥prias c√©lulas." }, { question: "O Rituximab, usado para tratar linfomas de c√©lulas B, √© um exemplo de qual terapia?", options: ["Vacina de mRNA", "Anticorpo Monoclonal", "Terapia com fagos", "Antibi√≥tico"], answer: "Anticorpo Monoclonal", explanation: "√â um anticorpo de engenharia que tem como alvo a mol√©cula CD20 nas c√©lulas B, levando √† sua destrui√ß√£o." } ];

            // --- Gerenciamento de Telas e Controle Remoto ---
            const screens = document.querySelectorAll('main > section');
            const screenChangers = document.querySelectorAll('.screen-changer');
            const backButtons = document.querySelectorAll('.back-to-home');
            let currentFocusableItems = [];
            let currentFocusIndex = 0;
            let activeScrollableArea = window;

            function setFocus(index) {
                if (currentFocusableItems && currentFocusableItems.length > 0) {
                    const newIndex = (index + currentFocusableItems.length) % currentFocusableItems.length;
                    currentFocusIndex = newIndex;
                    currentFocusableItems[currentFocusIndex].focus();
                }
            }

            function showScreen(screenId) {
                screens.forEach(screen => {
                    screen.classList.toggle('hidden', screen.id !== screenId);
                    screen.classList.toggle('flex', screen.id === screenId);
                });

                currentFocusableItems = Array.from(document.querySelectorAll(`#${screenId} .focusable`));
                const scrollable = document.querySelector(`#${screenId} .overflow-y-auto`);
                activeScrollableArea = scrollable || document.querySelector(`#${screenId}`);
                setFocus(0);
            }

            screenChangers.forEach(button => button.addEventListener('click', () => showScreen(button.dataset.target)));
            backButtons.forEach(button => button.addEventListener('click', () => showScreen('home-screen')));
            
            // --- L√≥gica da Tela de Conte√∫do ---
            const contentMenu = document.getElementById('content-menu');
            const contentDisplay = document.getElementById('content-display');
            contentData.forEach((item, index) => {
                const menuItem = document.createElement('button');
                menuItem.className = 'content-menu-item w-full text-left p-3 my-1 rounded-lg hover:bg-gray-700 transition-colors duration-200 text-gray-300 focusable';
                menuItem.textContent = item.title.replace(/\d+\. /, '');
                menuItem.dataset.index = index;
                contentMenu.appendChild(menuItem);
            });
            contentMenu.addEventListener('click', (e) => {
                const target = e.target.closest('.content-menu-item');
                if (target) {
                    const index = target.dataset.index;
                    const item = contentData[index];
                    contentDisplay.innerHTML = `<h3 class="text-3xl font-bold mb-6 text-green-400">${item.title}</h3><div class="content-prose">${item.content}</div>`;
                    document.querySelectorAll('.content-menu-item').forEach(btn => btn.classList.remove('bg-green-600', 'text-white'));
                    target.classList.add('bg-green-600', 'text-white');
                    contentDisplay.scrollTop = 0;
                }
            });

            // --- L√≥gica dos Flashcards ---
            let currentCard = 0;
            const flashcardEl = document.getElementById('flashcard'), frontText = document.querySelector('#flashcard-front p'), backText = document.querySelector('#flashcard-back p'), prevBtn = document.getElementById('prev-card'), nextBtn = document.getElementById('next-card'), cardCounter = document.getElementById('card-counter');
            function updateCard() { frontText.innerHTML = flashcardsData[currentCard].q; backText.innerHTML = flashcardsData[currentCard].a; cardCounter.textContent = `${currentCard + 1} / ${flashcardsData.length}`; flashcardEl.classList.remove('flipped'); }
            flashcardEl.addEventListener('click', () => flashcardEl.classList.toggle('flipped'));
            prevBtn.addEventListener('click', () => { currentCard = (currentCard - 1 + flashcardsData.length) % flashcardsData.length; updateCard(); });
            nextBtn.addEventListener('click', () => { currentCard = (currentCard + 1) % flashcardsData.length; updateCard(); });
            
            // --- L√≥gica do Quiz ---
            const quizContainer = document.getElementById('quiz-container'), quizResults = document.getElementById('quiz-results'), scoreEl = document.getElementById('score'), restartBtn = document.getElementById('restart-quiz');
            let userAnswers = {};
            function loadQuiz() {
                quizContainer.innerHTML = ''; quizResults.classList.add('hidden'); userAnswers = {};
                quizData.forEach((item, index) => {
                    const questionEl = document.createElement('div');
                    questionEl.className = 'mb-8';
                    const shuffledOptions = [...item.options].sort(() => Math.random() - 0.5);
                    let optionsHTML = shuffledOptions.map(option => `<button class="quiz-option focusable w-full text-left p-3 my-1 border border-gray-600 rounded-lg hover:bg-gray-700 transition" data-question="${index}">${option}</button>`).join('');
                    questionEl.innerHTML = `<p class="text-lg font-semibold mb-3 text-gray-200">${index + 1}. ${item.question}</p><div class="space-y-2">${optionsHTML}</div><div id="feedback-${index}" class="mt-3 text-sm p-2 rounded-md hidden"></div>`;
                    quizContainer.appendChild(questionEl);
                });
                const submitBtn = document.createElement('button');
                submitBtn.id = 'submit-quiz'; submitBtn.textContent = 'Finalizar Quiz'; submitBtn.className = 'w-full mt-4 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition focusable';
                quizContainer.appendChild(submitBtn);
                submitBtn.addEventListener('click', showResults);
            }
            quizContainer.addEventListener('click', function(e){ if(e.target.classList.contains('quiz-option')){ const questionIndex = e.target.dataset.question; userAnswers[questionIndex] = e.target.textContent; document.querySelectorAll(`button[data-question="${questionIndex}"]`).forEach(btn => btn.classList.remove('selected')); e.target.classList.add('selected'); } });
            function showResults() {
                let score = 0;
                quizData.forEach((item, index) => {
                    const options = document.querySelectorAll(`button[data-question="${index}"]`);
                    const feedbackEl = document.getElementById(`feedback-${index}`);
                    feedbackEl.classList.remove('hidden');
                    options.forEach(option => { option.disabled = true; option.classList.remove('selected'); if (option.textContent === item.answer) option.classList.add('correct'); });
                    if (userAnswers[index]) { if (userAnswers[index] === item.answer) { score++; } else { options.forEach(option => { if (option.textContent === userAnswers[index]) option.classList.add('incorrect'); }); feedbackEl.innerHTML = `<p class="font-semibold text-red-400">Incorreto.</p><p class="text-gray-400">${item.explanation}</p>`; feedbackEl.classList.add('bg-red-900/30'); }
                    } else { feedbackEl.innerHTML = `<p class="font-semibold text-yellow-400">N√£o respondida.</p><p class="text-gray-400">A resposta correta √©: ${item.answer}</p>`; feedbackEl.classList.add('bg-yellow-900/30'); }
                });
                scoreEl.textContent = `${score} / ${quizData.length}`; quizResults.classList.remove('hidden'); document.getElementById('submit-quiz').style.display = 'none'; quizResults.scrollIntoView({ behavior: 'smooth' });
                currentFocusableItems = Array.from(document.querySelectorAll(`#quiz-screen .focusable`));
                setFocus(currentFocusableItems.length - 1); // Foca no bot√£o de reiniciar
            }
            restartBtn.addEventListener('click', loadQuiz);

            // --- AJUSTE: L√≥gica do Bot√£o de Gerar Apostila ---
            const printButton = document.getElementById('print-button');
            printButton.addEventListener('click', () => {
                let printableContent = '';
                contentData.forEach(item => {
                    // Substitui os <h4> por <h3> para melhor hierarquia e remove √≠cones
                    const cleanContent = item.content.replace(/<h4>.*?<\/h4>/g, (match) => {
                        return `<h3>${match.replace(/<[^>]*>/g, '').trim()}</h3>`;
                    });
                    printableContent += `<h2>${item.title}</h2>${cleanContent}`;
                });

                const printWindow = window.open('', '_blank');
                printWindow.document.write(`
                    <!DOCTYPE html>
                    <html lang="pt-BR">
                    <head>
                        <meta charset="UTF-8">
                        <title>Apostila - A Resposta das C√©lulas B</title>
                        <style>
                            body { font-family: Georgia, 'Times New Roman', Times, serif; line-height: 1.6; color: #333; max-width: 800px; margin: 40px auto; padding: 20px; }
                            h1, h2, h3 { font-family: 'Helvetica Neue', Arial, sans-serif; color: #000; }
                            h1 { font-size: 2.2rem; text-align: center; margin-bottom: 1.5rem; border-bottom: 2px solid #ccc; padding-bottom: 1rem; }
                            h2 { font-size: 1.8rem; margin-top: 2.5rem; border-bottom: 1px solid #eaeaea; padding-bottom: 0.5rem; }
                            h3 { font-size: 1.3rem; color: #1e3a8a; font-weight: bold; margin-top: 1.5rem; }
                            p, ul, ol, li { text-align: justify; font-size: 1rem; color: #4a5568; }
                            ul { list-style-type: disc; padding-left: 20px; }
                            ol { padding-left: 20px; }
                            strong { color: #000; }
                            table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
                            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
                            th { background-color: #f2f2f2; }
                            @media print {
                                body { margin: 20px; padding: 0; box-shadow: none; max-width: 100%; }
                                h2 { page-break-before: auto; }
                            }
                        </style>
                    </head>
                    <body>
                        <h1>Apostila: A Resposta das C√©lulas B</h1>
                        ${printableContent}
                    </body>
                    </html>
                `);
                printWindow.document.close();
            });
            
            // --- L√≥gica do Controle Remoto ---
            const remoteUp = document.getElementById('remote-up'), remoteDown = document.getElementById('remote-down'), remoteLeft = document.getElementById('remote-left'), remoteRight = document.getElementById('remote-right'), remoteOk = document.getElementById('trackpad-area'), remoteBack = document.getElementById('remote-back');
            remoteRight.addEventListener('click', () => setFocus(currentFocusIndex + 1));
            remoteLeft.addEventListener('click', () => setFocus(currentFocusIndex - 1));
            remoteUp.addEventListener('click', () => activeScrollableArea.scrollBy({ top: -150, behavior: 'smooth' }));
            remoteDown.addEventListener('click', () => activeScrollableArea.scrollBy({ top: 150, behavior: 'smooth' }));
            
            remoteOk.addEventListener('click', () => {
                if (currentFocusableItems[currentFocusIndex]) {
                    currentFocusableItems[currentFocusIndex].click();
                }
            });
            remoteBack.addEventListener('click', () => showScreen('home-screen'));
            
            // --- L√≥gica de Trackpad Mobile ---
            let isTrackpadDragging = false, startY, initialScrollY;
            remoteOk.addEventListener('touchstart', e => { 
                e.stopPropagation();
                isTrackpadDragging = true; 
                startY = e.touches[0].clientY; 
                initialScrollY = activeScrollableArea.scrollTop; 
                remoteOk.style.transform = 'scale(0.9)'; 
                remoteOk.style.backgroundColor = '#4ade80'; 
            }, { passive: false });
            remoteOk.addEventListener('touchmove', e => { 
                if (!isTrackpadDragging) return; 
                e.preventDefault(); 
                const deltaY = startY - e.touches[0].clientY; 
                activeScrollableArea.scrollTop = initialScrollY + deltaY; 
            }, { passive: false });
            const touchEndHandler = () => { 
                if (isTrackpadDragging) {
                    setTimeout(() => { isTrackpadDragging = false; }, 100);
                }
                remoteOk.style.transform = 'scale(1)'; 
                remoteOk.style.backgroundColor = '#4B5563'; 
            };
            remoteOk.addEventListener('touchend', touchEndHandler);
            remoteOk.addEventListener('touchcancel', touchEndHandler);

            // Inicializa√ß√£o
            showScreen('home-screen');
            if (contentData.length > 0) { document.querySelector('.content-menu-item').click(); }
            updateCard();
            loadQuiz();
        });
    </script>
</body>
</html>

